# =============================================================================
# Environment Variables Template for IdleCampus Backend
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git (it contains secrets)
#
# Quick Start:
#   cp .env.example .env
#   # Edit .env with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# Option 1: Local PostgreSQL (Docker Compose or Homebrew)
# Use these variables for local development:
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Option 2: Neon/Heroku/Render (Cloud Database)
# Use DATABASE_URL instead of individual variables above.
# This takes precedence if set. Get this from your Neon dashboard:
# DATABASE_URL=postgresql://user:password@ep-cool-darkness-123456.us-east-2.aws.neon.tech/neondb?sslmode=require

# Production SSL mode (usually "require" for cloud databases)
# POSTGRES_SSLMODE=require

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
# For Sidekiq background jobs and caching
REDIS_URL=redis://localhost:6379/0

# For production, use your Redis cloud provider URL:
# REDIS_URL=redis://default:password@redis-123.cloud.redislabs.com:12345

# -----------------------------------------------------------------------------
# RAILS CONFIGURATION
# -----------------------------------------------------------------------------
RAILS_ENV=development
RAILS_MAX_THREADS=10

# For production, set a strong secret key:
# SECRET_KEY_BASE=your_secret_key_here_generate_with_rails_secret

# -----------------------------------------------------------------------------
# AI/ML SERVICE CONFIGURATION
# -----------------------------------------------------------------------------
# OpenAI API Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7

# Ollama Configuration (local LLM alternative)
OLLAMA_MODEL=llama2

# Flask ML Service (if using local ML service)
FLASK_ML_SERVICE_URL=http://localhost:5000
FLASK_MIN_QUESTION_SCORE=5

# -----------------------------------------------------------------------------
# OAUTH CONFIGURATION
# -----------------------------------------------------------------------------
# Google OAuth (get these from Google Cloud Console)
GOOGLE_CLIENT_ID=your_google_client_id_here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google_oauth2/callback

# For production, update callback URL:
# GOOGLE_CALLBACK_URL=https://yourdomain.com/auth/google_oauth2/callback

# -----------------------------------------------------------------------------
# DEPLOYMENT PLATFORM SPECIFIC
# -----------------------------------------------------------------------------
# Heroku/Render automatically set DATABASE_URL and PORT
# No additional config needed for these platforms

# AWS Elastic Beanstalk:
# Set RDS_HOSTNAME, RDS_PORT, RDS_DB_NAME, RDS_USERNAME, RDS_PASSWORD

# -----------------------------------------------------------------------------
# OPTIONAL: NEON DATABASE BRANCHING
# -----------------------------------------------------------------------------
# For database branching (development/staging branches):
# DATABASE_URL_DEVELOPMENT=postgresql://...neon.tech/dev_branch?sslmode=require
# DATABASE_URL_STAGING=postgresql://...neon.tech/staging_branch?sslmode=require
# DATABASE_URL_PRODUCTION=postgresql://...neon.tech/main?sslmode=require

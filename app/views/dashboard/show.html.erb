<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4">
  <div class="max-w-7xl mx-auto">
    <!-- Main Header -->
    <div class="text-center mb-12">
      <h1 class="text-5xl font-bold text-gray-900 mb-4">
        Adaptive Learning Platform
      </h1>
      <p class="text-xl text-gray-700">
        IRT-Powered Courses with Spaced Repetition
      </p>
    </div>

    <% if @iit_jee_courses.any? %>
      <!-- IIT JEE Section -->
      <div class="mb-16">
        <div class="text-center mb-8">
          <h2 class="text-4xl font-bold text-gray-900 mb-3">IIT JEE Mathematics</h2>
          <p class="text-lg text-gray-600 mb-4">
            Adaptive Learning with IRT + FSRS Spaced Repetition
          </p>
        </div>

        <!-- Stats Banner -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500">
            <div class="text-3xl font-bold text-blue-600">430+</div>
            <div class="text-gray-600 mt-1">Total Questions</div>
          </div>
          <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500">
            <div class="text-3xl font-bold text-green-600">4</div>
            <div class="text-gray-600 mt-1">Math Courses</div>
          </div>
          <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500">
            <div class="text-3xl font-bold text-purple-600">150</div>
            <div class="text-gray-600 mt-1">Formula Drills</div>
          </div>
          <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500">
            <div class="text-3xl font-bold text-orange-600">85%</div>
            <div class="text-gray-600 mt-1">Retention Rate</div>
          </div>
        </div>

        <!-- IIT JEE Courses Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <% @iit_jee_courses.each_with_index do |course, index| %>
            <% colors = ['blue', 'green', 'purple', 'orange'] %>
            <% color = colors[index % 4] %>

            <div class="bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-shadow duration-300">
              <div class="bg-gradient-to-r from-<%= color %>-500 to-<%= color %>-600 p-6">
                <h3 class="text-2xl font-bold text-white mb-2"><%= course.title.gsub('IIT JEE Mathematics - ', '') %></h3>
                <p class="text-<%= color %>-100"><%= course.description&.truncate(60) || 'Comprehensive coverage with adaptive learning' %></p>
              </div>
              <div class="p-6">
                <div class="mb-4">
                  <div class="flex justify-between text-sm text-gray-600 mb-2">
                    <span><%= course.estimated_hours || 0 %> hours</span>
                    <span><%= course.course_modules.count %> modules</span>
                  </div>
                  <div class="bg-gray-200 rounded-full h-2">
                    <div class="bg-<%= color %>-500 h-2 rounded-full" style="width: 100%"></div>
                  </div>
                </div>
                <div class="space-y-2 mb-4">
                  <div class="flex items-center text-sm text-gray-700">
                    <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    IRT Adaptive Difficulty
                  </div>
                  <div class="flex items-center text-sm text-gray-700">
                    <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    FSRS Spaced Repetition
                  </div>
                  <div class="flex items-center text-sm text-gray-700">
                    <svg class="w-5 h-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    LaTeX Math Rendering
                  </div>
                </div>
                <a href="/chemistry/<%= course.slug %>"
                   class="block w-full text-center bg-<%= color %>-500 hover:bg-<%= color %>-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200">
                  Start Learning
                </a>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>

    <% if @tech_courses.any? %>
      <!-- Tech Courses Section -->
      <div class="mb-16">
        <div class="text-center mb-8">
          <h2 class="text-4xl font-bold text-gray-900 mb-3">Technology & DevOps Courses</h2>
          <p class="text-lg text-gray-600">
            Master Docker, Kubernetes, Cloud, Programming & More
          </p>
        </div>

        <!-- Tech Courses Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <% @tech_courses.each do |course| %>
            <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
              <div class="p-6">
                <div class="flex items-center mb-4">
                  <div class="bg-indigo-100 rounded-lg p-3">
                    <svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <div class="text-xs font-semibold text-indigo-600 uppercase tracking-wide"><%= course.difficulty_level || 'intermediate' %></div>
                  </div>
                </div>

                <h3 class="text-xl font-bold text-gray-900 mb-2"><%= course.title %></h3>
                <p class="text-gray-600 text-sm mb-4 line-clamp-2"><%= course.description&.truncate(80) || 'Comprehensive course with hands-on practice' %></p>

                <div class="flex items-center text-sm text-gray-500 mb-4">
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <%= course.estimated_hours || 0 %> hours
                  <span class="mx-2">â€¢</span>
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                  </svg>
                  <%= course.course_modules.count %> modules
                </div>

                <%
                  # Map course slugs to frontend routes
                  route_mapping = {
                    'docker-fundamentals' => '/docker',
                    'kubernetes-complete-guide' => '/kubernetes',
                    'aws-cloud-architecture' => '/aws',
                    'postgresql-database-mastery' => '/postgresql',
                    'envoy-proxy-mastery' => '/envoy',
                    'networking-fundamentals' => '/networking',
                    'system-design-back-of-envelope' => '/system-design',
                    'coding-interview-mastery' => '/coding-interview',
                    'python-fundamentals' => '/python',
                    'go-fundamentals' => '/golang'
                  }
                  course_url = route_mapping[course.slug] || "/courses/#{course.slug}"
                %>
                <% enrollment = @enrollments&.dig(course.id) %>
                <% if enrollment %>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm text-gray-600 mb-1">
                      <span>Progress</span>
                      <span><%= enrollment.progress_percentage || 0 %>%</span>
                    </div>
                    <div class="bg-gray-200 rounded-full h-2">
                      <div class="bg-green-500 h-2 rounded-full" style="width: <%= enrollment.progress_percentage || 0 %>%"></div>
                    </div>
                  </div>
                  <a href="<%= course_url %>"
                     class="block w-full text-center bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                    Continue Learning
                  </a>
                <% else %>
                  <a href="<%= course_url %>"
                     class="block w-full text-center bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                    Start Course
                  </a>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>

    <!-- Footer -->
    <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
      <p class="text-gray-700 mb-2">
        <strong><%= @courses.count %></strong> courses available with adaptive learning technology
      </p>
      <p class="text-sm text-gray-600">
        Built with IRT (Item Response Theory) + FSRS (Free Spaced Repetition Scheduler)
      </p>
    </div>
  </div>
</div>

slug: lesson-2
title: Lesson 2
difficulty: easy
sequence_order: 2
estimated_minutes: 2
key_concepts: []
prerequisites: []
content_md: "# Microlesson \U0001F680\n\n# Day 2: IP Addressing and Subnetting Basics\n\
  \n    ## Learning Goals\n\n    - Develop a solid understanding of IP addresses (especially\
  \ IPv4)\n    - Learn how networks are divided into subnets\n    - Interpret CIDR\
  \ notation (e.g., /24) and perform basic subnet calculations\n    - Distinguish\
  \ between public vs private IP ranges\n    - Understand why private networks use\
  \ NAT to reach the internet\n\n    ## What is an IP Address?\n\n    An **IP address**\
  \ is a numerical label assigned to every device on a network. Think of it as a mailing\
  \ address for your computer – it tells other devices where to send data.\n\n   \
  \ ### IPv4 Address Anatomy\n\n    - **Format**: 32-bit address shown in dotted-decimal\
  \ notation\n    - **Example**: `192.168.4.12`\n    - **Structure**: Four octets\
  \ (bytes), each ranging from 0-255\n    - **Binary**: Each octet is 8 bits: `11000000.10101000.00000100.00001100`\n\
  \n    ### IPv4 Address Space\n\n    - **Total addresses**: 2³² = ~4.3 billion addresses\n\
  \    - **Problem**: We're running out due to internet growth\n    - **Solution**:\
  \ IPv6 (128-bit addresses), NAT, and private IP ranges\n\n    ## Subnet Masks and\
  \ Network/Host Division\n\n    A subnet mask splits an IP address into two parts:\n\
  \    1. **Network portion**: Identifies which network the device is on\n    2. **Host\
  \ portion**: Identifies the specific device within that network\n\n    ### Example:\
  \ 192.168.5.0/24\n\n    - **IP Range**: `192.168.5.0/24`\n    - **Subnet Mask**:\
  \ `255.255.255.0`\n    - **/24 means**: First 24 bits are network, last 8 bits are\
  \ hosts\n    - **Network portion**: `192.168.5` (first 24 bits)\n    - **Host portion**:\
  \ last 8 bits = 256 possible addresses\n    - **Usable hosts**: 254 (we subtract\
  \ network address .0 and broadcast .255)\n\n    ## CIDR Notation (Classless Inter-Domain\
  \ Routing)\n\n    CIDR notation uses a slash followed by the number of network bits:\n\
  \n    | CIDR | Subnet Mask | Network Bits | Host Bits | Total IPs | Usable Hosts\
  \ |\n    |------|-------------|--------------|-----------|-----------|--------------|\n\
  \    | /32 | 255.255.255.255 | 32 | 0 | 1 | 1 (single host) |\n    | /30 | 255.255.255.252\
  \ | 30 | 2 | 4 | 2 |\n    | /29 | 255.255.255.248 | 29 | 3 | 8 | 6 |\n    | /28\
  \ | 255.255.255.240 | 28 | 4 | 16 | 14 |\n    | /27 | 255.255.255.224 | 27 | 5 |\
  \ 32 | 30 |\n    | /26 | 255.255.255.192 | 26 | 6 | 64 | 62 |\n    | /25 | 255.255.255.128\
  \ | 25 | 7 | 128 | 126 |\n    | /24 | 255.255.255.0 | 24 | 8 | 256 | 254 |\n   \
  \ | /16 | 255.255.0.0 | 16 | 16 | 65,536 | 65,534 |\n    | /8 | 255.0.0.0 | 8 |\
  \ 24 | 16,777,216 | 16,777,214 |\n\n    ### Calculating Usable Hosts\n\n    For\
  \ a subnet with N host bits:\n    - **Total addresses**: 2ᴺ\n    - **Usable hosts**:\
  \ 2ᴺ - 2 (subtract network and broadcast addresses)\n\n    **Example**: /26 subnet\n\
  \    - Host bits: 32 - 26 = 6\n    - Total addresses: 2⁶ = 64\n    - Usable hosts:\
  \ 64 - 2 = 62\n\n    ## Private vs Public IP Addresses\n\n    ### Private IP Ranges\
  \ (RFC 1918)\n\n    These IP ranges are reserved for internal networks and NOT routable\
  \ on the public internet:\n\n    | Class | Range | CIDR | Total IPs |\n    |-------|-------|------|-----------|\n\
  \    | A | 10.0.0.0 - 10.255.255.255 | 10.0.0.0/8 | 16,777,216 |\n    | B | 172.16.0.0\
  \ - 172.31.255.255 | 172.16.0.0/12 | 1,048,576 |\n    | C | 192.168.0.0 - 192.168.255.255\
  \ | 192.168.0.0/16 | 65,536 |\n\n    **Uses:**\n    - Home networks (typically 192.168.x.x)\n\
  \    - Corporate internal networks\n    - Cloud VPCs (often use 10.x.x.x or 172.16.x.x)\n\
  \n    ### Public IP Addresses\n\n    - **Globally unique** addresses assigned by\
  \ IANA/ISPs\n    - **Routable** on the public internet\n    - **Examples**: `8.8.8.8`\
  \ (Google DNS), `1.1.1.1` (Cloudflare DNS)\n    - **Cost**: Public IPs are a limited\
  \ resource and often cost money in cloud environments\n\n    ### Why Both Private\
  \ and Public?\n\n    - **IPv4 address exhaustion**: Not enough public IPs for every\
  \ device\n    - **Security**: Private networks hidden behind NAT\n    - **Flexibility**:\
  \ Reuse same private ranges in different organizations\n\n    ## NAT (Network Address\
  \ Translation)\n\n    NAT allows multiple devices on a private network to share\
  \ a single public IP address when accessing the internet.\n\n    ### How NAT Works\n\
  \n    1. **Internal device** (192.168.1.100) wants to access Google (142.250.64.78)\n\
  \    2. **Device sends packet** with source IP 192.168.1.100\n    3. **Router (NAT\
  \ device)** receives packet, replaces source IP with its own public IP (e.g., 203.0.113.5)\n\
  \    4. **Router tracks** the connection in a NAT table\n    5. **Google responds**\
  \ to 203.0.113.5\n    6. **Router receives response**, looks up NAT table, forwards\
  \ to 192.168.1.100\n\n    ### Types of NAT\n\n    - **Static NAT**: One-to-one mapping\
  \ (one private IP to one public IP)\n    - **Dynamic NAT**: Pool of public IPs shared\
  \ among private IPs\n    - **PAT (Port Address Translation)**: Most common – many\
  \ private IPs share one public IP using different port numbers\n\n    ## Subnetting:\
  \ Dividing Networks\n\n    **Subnetting** is dividing a network into smaller networks\
  \ (subnets) for:\n    - Efficient IP address allocation\n    - Improved security\
  \ (isolate network segments)\n    - Reduced broadcast traffic\n    - Organizational\
  \ structure (one subnet per department/floor)\n\n    ### Subnetting Example\n\n\
  \    **Given**: 10.0.0.0/16 network\n    **Goal**: Create 4 equal subnets\n\n  \
  \  **Solution**:\n    - Original: /16 (16 network bits, 16 host bits)\n    - Need\
  \ 4 subnets: 2² = 4, so borrow 2 bits from host portion\n    - New prefix: /18 (16\
  \ + 2 = 18)\n    - Each subnet: 2⁽³²⁻¹⁸⁾ = 2¹⁴ = 16,384 addresses\n\n    **Result**:\n\
  \    1. 10.0.0.0/18 (10.0.0.0 - 10.0.63.255)\n    2. 10.0.64.0/18 (10.0.64.0 - 10.0.127.255)\n\
  \    3. 10.0.128.0/18 (10.0.128.0 - 10.0.191.255)\n    4. 10.0.192.0/18 (10.0.192.0\
  \ - 10.0.255.255)\n\n    ## Special IP Addresses\n\n    - **0.0.0.0**: Default route\
  \ or \"this network\"\n    - **127.0.0.1**: Localhost (loopback address)\n    -\
  \ **169.254.x.x**: Link-local addresses (APIPA - auto-configured when DHCP fails)\n\
  \    - **224.0.0.0/4**: Multicast addresses\n    - **First IP in subnet**: Network\
  \ address (identifies the subnet)\n    - **Last IP in subnet**: Broadcast address\
  \ (send to all hosts in subnet)\n\n    ## IP Addressing in Cloud VPCs\n\n    When\
  \ designing cloud networks (AWS VPC, Azure VNet, GCP VPC):\n\n    1. **Choose a\
  \ large enough CIDR block**: e.g., 10.0.0.0/16 gives 65,536 addresses\n    2. **Subnet\
  \ for different tiers**:\n       - Public subnet: 10.0.0.0/24 (web servers)\n  \
  \     - Private subnet: 10.0.1.0/24 (app servers)\n       - Database subnet: 10.0.2.0/24\
  \ (databases)\n    3. **Avoid overlapping**: If connecting VPCs or to on-premises,\
  \ ensure no overlap\n    4. **Reserve IPs**: Cloud providers reserve some IPs in\
  \ each subnet (e.g., AWS reserves .0, .1, .2, .3, .255)\n\n    ## Key Takeaways\n\
  \n    1. **IPv4 addresses** are 32-bit addresses in dotted-decimal notation\n  \
  \  2. **Subnet masks** divide addresses into network and host portions\n    3. **CIDR\
  \ notation** (/24, /16, etc.) indicates the number of network bits\n    4. **Private\
  \ IP ranges** (10.x.x.x, 172.16.x.x, 192.168.x.x) are for internal networks\n  \
  \  5. **Public IPs** are globally unique and routable on the internet\n    6. **NAT**\
  \ allows private IPs to access the internet via a shared public IP\n    7. **Subnetting**\
  \ divides networks for better organization and security\n    8. **Calculating hosts**:\
  \ For /N, hosts = 2⁽³²⁻ᴺ⁾ - 2\n\n    ## Practice Calculations\n\n    **Exercise\
  \ 1**: What is the network address and broadcast address for 192.168.10.50/24?\n\
  \    - Network: 192.168.10.0\n    - Broadcast: 192.168.10.255\n\n    **Exercise\
  \ 2**: How many usable hosts in a /27 subnet?\n    - Host bits: 32 - 27 = 5\n  \
  \  - Total: 2⁵ = 32\n    - Usable: 32 - 2 = 30\n\n    **Exercise 3**: Is 172.20.5.10\
  \ a private or public IP?\n    - Private (falls within 172.16.0.0/12 range)"
exercises:
  - type: multiple_choice
    sequence_order: 1
    question: "What is CIDR notation and what does /24 mean?"
    options:
      - "/24 means 24 total IP addresses in the subnet"
      - "/24 means the first 24 bits are the network portion, leaving 8 bits for hosts (256 addresses, 254 usable)"
      - "/24 means 24 subnets can be created"
      - "/24 is only used for IPv6 addresses"
    correct_answer: "/24 means the first 24 bits are the network portion, leaving 8 bits for hosts (256 addresses, 254 usable)"
    explanation: "CIDR (Classless Inter-Domain Routing) notation uses a slash followed by a number to indicate how many bits of an IP address are used for the network portion. In /24, the first 24 bits identify the network, leaving 32-24=8 bits for host addresses. With 8 host bits, you get 2^8=256 total addresses. However, you can't use all of them - the first address (.0) is the network address and the last (.255) is the broadcast address, leaving 254 usable host addresses. This notation is much more flexible than the old classful system (Class A, B, C) and allows for efficient IP address allocation. For example, 192.168.5.0/24 means addresses from 192.168.5.0 to 192.168.5.255, with 192.168.5.1 through 192.168.5.254 available for devices. Understanding CIDR is essential for subnet planning in cloud environments like AWS VPCs or Azure VNets."
    require_pass: true
  - type: multiple_choice
    sequence_order: 2
    question: "What is the primary purpose of NAT (Network Address Translation)?"
    options:
      - "To encrypt network traffic"
      - "To allow multiple devices on a private network to share a single public IP address when accessing the internet"
      - "To increase network speed"
      - "To assign IP addresses automatically"
    correct_answer: "To allow multiple devices on a private network to share a single public IP address when accessing the internet"
    explanation: "NAT solves a critical problem: IPv4 address exhaustion. With only 4.3 billion IPv4 addresses and billions of internet-connected devices, we don't have enough public IPs for every device. NAT allows an entire private network (using addresses like 192.168.x.x or 10.x.x.x) to share a single public IP address. When a device on the private network sends a packet to the internet, the NAT router replaces the private source IP with its public IP and tracks the connection in a NAT table. When responses come back, the router uses this table to forward packets to the correct internal device. The most common type is PAT (Port Address Translation), which uses different port numbers to distinguish connections from different internal devices. This is why your home router can handle multiple devices browsing the web simultaneously - they all share the router's single public IP but use different source ports. Understanding NAT is crucial for network troubleshooting and designing cloud architectures."
    require_pass: true
